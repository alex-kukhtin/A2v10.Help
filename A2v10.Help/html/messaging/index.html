<div>
	<!--title:Работа с сообщениями-->
	<div class="title">
		<h1>
			Работа с сообщениями
		</h1>
	</div>


	<p>
		Для того, чтобы отделить логику построения сообщения и механизм его отправки используется механизм шаблонов.
		Шаблон представляет собой набор правил, при помощи которых строится тело сообщения, его тема, адресаты, копии и т.д.
	</p>

	<p>Шаблон может включать несколько сообщений. Доступ к ним осуществляется по простому текстовому ключу.</p>

	<p>
		При построении сообщения может использоваться модель данных,
		дополнительные параметры, которые передаются отправителем и переменные окружения.
	</p>

	<p>
		Когда системе нужно отправить сообщение, она просто указывает, по какому шаблону его нужно построить, и передает нужные параметры,
		такие как имя шаблона, ключ сообщения, идентификатор для модели данных и произвольные параметры.
	</p>

	<p>
		Подсистема оправки выбирает нужное сообщение, загружает модель данных (если нужно), формирует непосредственно текст сообщения с использованием <a href="bindings">привязок</a>
		и отправляет его адресату.
	</p>
	<h3>Использование</h3>
	<p>Сообщение можно отправить следующими способами:</p>
	<ul class="std">
		<li>Из бизнес-процесса с помощью активностей <a class="code-link" href="/workflow/activities/request">Request</a> 
		или <a href="/workflow/activities/sendmessage" class="code-link">SendMessage</a>.</li>
		<li>Непосредственно серверной командой типа <a href="/app/sendmessagecommand">sendMessage</a></li>
	</ul>

	<h3>Настройка</h3>
	<ul class="std">
		<li><a href="/messaging/settings">Настройка конфигурации</a>.</li>
	</ul>

	<h3>Объекты для работы с сообщениями</h3>
	<ul class="std">
		<li><a href="/messaging/emailmessage">EmailMessage</a> - сообщение электронной почты.</li>
		<li><a href="/messaging/messageaddress">MessageAddress</a> - адрес сообщения.</li>
		<li><a href="/messaging/messageattachment">MessageAttachment</a> - вложение.</li>
		<li><a href="/messaging/messagereport">MessageReport</a> - отчет.</li>
		<li><a href="/messaging/messagereportmodel">MessageReportModel</a> - модель данных для отчета.</li>
		<li><a href="/messaging/messagereportparam">MessageReportParam</a> - параметр модели данных для отчета.</li>
		<li><a href="/messaging/template">Template</a> - шаблон.</li>
		<li><a href="/messaging/templatedmessage">TemplatedMessage</a> - базовый класс для работы с сообщениями.</li>
	</ul>
</div>