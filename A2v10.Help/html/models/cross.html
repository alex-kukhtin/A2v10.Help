<div>
	<!--title:Перекрестные модели данных-->
	<!--keywords:Перекрестные модели данных;-->
	<div class="title">
		<h1>
			Перекрестные модели данных
		</h1>
	</div>
	<p>
		Перекрестная модель данных включает одно или несколько полей,
		которые будут развернуты в горизонтальный массив элементов. Чаще всего такие модели используются для 
		построения перекрестных отчетов, в которых количество колонок переменное и определяется полученными данными.
	</p>

	<p>
		Отличия от простых вложенных массивов заключаются в следующем:
		<ul>
			<li>Все перекрестные массивы во всех записях будут иметь одинаковый размер.</li>
			<li>Порядок элементов будет определяться ключом (<code>Key</code>) перекрестного элемента.</li>
			<li>
				Основной набор будет иметь дополнительное свойство <code>$crossKeys</code>, в котором будут представлены
				массивы ключей для каждого из перекрестных массивов.
			</li>
		</ul>
	</p>

	<p>
<pre class="code-highlight js" data-lang="sql">
<script type="text/template">
/* основной набор */
select [RepData!TData!Array] = null, [Id!!Id] = Id, Prop1, Prop2, [Cross1!TCross!Cross] = null;

/*перекрестный набор */
select [!TCross!Array] = null, [!!Key] = Key, Data1, Data2, [!TData.Cross1!ParentId] = Id;
</script>
</pre>
	</p>

	<p>
<pre class="code-highlight js" data-lang="js">
<script type="text/template">
RepData: [
	{
		Id:1,
		Prop1: "P1_1",
		Prop2: "P2_1",
		Cross1: [
			{Key: 'K1', Data1: 10, Data2: 20 },
			{Key: 'K2', Data1: 0,  Data2: 0  }
		]
	},
	{
		Id: 2,
		Prop1: "P1_2",
		Prop2: "P2_2",
		Cross1: [
			{Key: 'K1', Data1: 0,  Data2: 0  }
			{Key: 'K2', Data1: 40, Data2: 50 },
		]
	},
	$crossKeys: {
		Cross1: ['K1', 'K2']
	}
]
</script>
</pre>
	</p>

</div>