<div>
	<!--title:Работа с изображениями-->
	<!--keywords:Image;-->
	<div class="title">
		<h1>
			Работа с изображениями
		</h1>
	</div>
	<p>
		В системе предусмотрено два метода работы с картинками. Упрощенный и более полный, который
		позволяет более тонко управлять загрузкой/показом картинок.
	</p>

	<p>Во всех случаях изобажения сохраняются в отдельной таблице.</p>

	<h2>Упрощенный способ</h2>

	<p>
		В этом случае используется элемент управления <a class="code-link" href="/xaml/controls/image">Image</a>.
		Свойство <code>Base</code> этого элемента ссылается на полную модель (ту, которая указана в корне файла <code>model.json</code>).
	</p>
	<p>
		Свойство <code>Source</code> должно ссылаться на свойство модели,
		которое будет хранить идентификатор изображения. Имя этого свойства будеть определять суффикс для хранимых процедур,
		которые будут вызываться для получения или записи реальных байтов изображения.
	</p>

	<p>
		Рассмотрим работу с картикой на примере. Пусть, например, мы хотим показывать изображение товара (объект <code>Product</code>).
		Свойство <code>Image</code> объекта представляет собой идентификатор изображения.
	</p>

	<p>Пример разметки XAML</p>
<pre class="code-highlight xml">
<script type="text/template">
<Image Base="/catalog/product" Source="{Bind Product.Image}" Height="200px"/>
</script>
</pre>

	<p>
		Фрагмент файла <code>/catalog/product/model.json</code>
	</p>


	<h4>Получение изображения</h4>
	<p>
		Для получения изображения система вызовет хранимую процедуру
		<code>a2.[Product.Image.Load]</code>, передав ей в качестве параметра содержимое поля 
		<code>Image</code> объекта <code>Product</code>.
		Имя <b>Image</b> в наименовании процедуры соответствует имени свойства.
		Процедура должна вернуть единственную запись со следующими полями:
	</p>

	<h4>Загрузка изображения</h4>
	<p>
		При загрузке изображения на сервер, система вызовет хранимую процедуру
		<code>a2.[Product.Image.Update]</code>, передав ей в качестве параметра содержимое поля
	</p>

	<h2>Полный способ</h2>

	<p>
		В этом случае используется элемент управления  <a class="code-link" href="/xaml/controls/fileimage">FileImage</a>.
	</p>
</div>