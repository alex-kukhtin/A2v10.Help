<div>
	<!--title:Прості моделі даних-->
	<!--keywords:Прості моделі даних;-->
	<div class="title">
		<h1>
			Прості моделі даних
		</h1>
		<div class="breadcrumb">
			<a href="index">Моделі даних</a>
		</div>
	</div>
	<p>

	</p>
	<h3>Завантаження моделі</h3>
	<p>
		Ця процедура має назву моделі із суфіксом <code>.Load</code> або <code>.Index</code>.
		Зверніть увагу, що оновлення індексних моделей не підтримується!
	</p>

	<h3>Збереження моделі</h3>
	<p>
		Збереження моделі виконується в два етапи. На першому викликається спеціальна процедура,
		яка повертає метадані - правила, яким чином перетворити ієрархічну модель json на таблиці. На
		другому етапі викликається процедура збереження, яка і зберігає модель.
	</p>

	<h4>Процедура .Metadata</h4>
	<p>
		Ця процедура має назву моделі із суфіксом <code>.Metadata</code>. Вона не має параметрів та має
		повернути один чи декілька наборів даних. Всі набори мають бути пустим. Має значення тільки кількість полів
		та їх найменування.
	</p>

	<h4>Процедура .Update</h4>
	<p>
		Ця процедура має назву моделі із суфіксом <code>.Update</code>. Окрім стандартних параметрів
		(<code>@UserId</code>, та <code>@TenantId</code> у мультітенантому середовищі), процедура отримує
		стільки табличних параметрів, скільки наборів даних повернула процедура <code>.Metadata</code>.
	</p>

	<p>
		Кожний з табличних параметрів буде заповнений так, як описано в метаданих. Додатково в кожний табличний параметр
		можуть бути додані додаткові поля, які використовуються для зв'язування батьківсіких/дочірніх сутностей
		(наприклад рядки документу з документами).
	</p>

	<p>
		Зазвичай реальне оновлення даних відбувається з використанням SQL-оператора
		<a class="code-link" href="https://learn.microsoft.com/en-us/sql/t-sql/statements/merge-transact-sql?view=sql-server-ver16"
		   target="_blank">merge</a>.
	</p>


	<h3>Приклад</h3>
</div>