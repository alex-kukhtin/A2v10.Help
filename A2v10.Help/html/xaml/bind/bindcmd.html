<div>
	<!--title:BindCmd-->
	<!--keywords:BindCmd-->
	<div class="title">
		<h1>
			Привязка BindCmd
		</h1>
		<div class="breadcrumb">
			<a href="index">Все привязки</a>
		</div>
	</div>
	<p>
		Представляет собой специальный объект, описывающий команду, которая будет выполнена в ответ
		на какое-то действие пользователя (например нажатие экранной кнопки).
		Практически всегда задается как <a href="/xaml/overview/extensions">расширение разметки</a>.
	</p>
	<p>
		Обратите внимание, что объект имеет довольно много свойств, но многие из них используются
		только для какой-то конкретной команды.
	</p>

	<h3>Свойства</h3>
	<table class="table-props">
		<thead>
			<tr>
				<th>Имя</th>
				<th>Тип</th>
				<th>Описание</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="prop-name">Command</td>
				<td><code>Command</code></td>
				<td>По умолчанию. Выполняемая команда. Возможные команды описаны ниже.</td>
			</tr>
			<tr>
				<td class="prop-name">Argument</td>
				<td>Object</td>
				<td>Аргумент команды. Практически всегда привязка (<a class="code-link" href="bind">Bind</a>).</td>
			</tr>
			<tr>
				<td class="prop-name">Data</td>
				<td>Object</td>
				<td>Дополнительные данные для команды. Практически всегда привязка (<a class="code-link" href="bind">Bind</a>).</td>
			</tr>
			<tr>
				<td class="prop-name">Url</td>
				<td>String</td>
				<td>Url для внешней команды.</td>
			</tr>
			<tr>
				<td class="prop-name">CommandName</td>
				<td>String</td>
				<td>Только для команды <b>Execute</b>. Имя команды в шаблоне (<a class="code-link" href="/template/commands">template.commands</a>).</td>
			</tr>
			<tr>
				<td class="prop-name">SaveRequired</td>
				<td>Boolean</td>
				<td>Сохранять модель перед выполнением команды.</td>
			</tr>
			<tr>
				<td class="prop-name">ValidRequired</td>
				<td>Boolean</td>
				<td>Для выполнения команды требуется, чтобы модель была в валидном состоянии.</td>
			</tr>
			<tr>
				<td class="prop-name">Confirm</td>
				<td><a class="code-link" href="/xaml/components/confirm">Confirm</a></td>
				<td>Спрашивать у пользователя подтверждение перед выполнением команды.</td>
			</tr>
			<tr>
				<td class="prop-name">NewWindow</td>
				<td>Boolean</td>
				<td>Открывать в новом окне.</td>
			</tr>
			<tr>
				<td class="prop-name">UpdateAfter</td>
				<td>Object</td>
				<td>Всегда привязка. Объект или массив, который нужно обновить после выполнения как-либо действий.</td>
			</tr>
			<tr>
				<td class="prop-name">ReloadAfter</td>
				<td>Boolean</td>
				<td>Обновить модель после выполнения команды.</td>
			</tr>
			<tr>
				<td class="prop-name">Export</td>
				<td>Boolean</td>
				<td>Выполнять ли экспорт вместо отображения. Не совместима с <code>Print</code>.</td>
			</tr>
			<tr>
				<td class="prop-name">Print</td>
				<td>Boolean</td>
				<td>Выполнять ли печать вместо отображения.</td>
			</tr>
			<tr>
				<td class="prop-name">FileAction</td>
				<td>Enum</td>
				<td>Действие для команды <code>File</code>.</td>
			</tr>
			<tr>
				<td class="prop-name">Action</td>
				<td>Enum</td>
				<td>Действие для команды <code>Dialog</code>.</td>
			</tr>
		</tbody>
	</table>

	<h3>Команды</h3>

	<div class="method">
		<div class="command"><b>Open</b> - открыть форму</div>
		<p>
			Выполняет переход на заданный Url с заданным аргументом.
		</p>
		<h4>Аргументы:</h4>
		<ul class="params">
			<li><code>Url</code> - Путь к форме. Обязательно</li>
			<li><code>Argument</code> - Аргумент команды. Обязательно.</li>
			<li><code>NewWindow</code> - Открывать в новом окне.</li>
			<li>
				<code>UpdateAfter</code> - Привязка к элементу, который возможно будет обновляться при выполнении каких либо действий. Имеет
				смысл только если форма открывается в новом окне.
			</li>
		</ul>
	</div>

	<div class="method">
		<div class="command"><b>Clear</b> - очистить</div>
		<p>
			Очищает объект агрумента.
		</p>
		<h4>Аргументы:</h4>
		<ul class="params">
			<li>
				<code>Argument</code> - Привязка к массиву или объекту, который нужно очистить. Фактически команда просто вызывает метод
				<a href="/client/elemprops" class="code-link">$empty</a> связанного объекта или массива.
			</li>
		</ul>
		<p>
			Обратите внимание, что элемент управления, связанный с этой командой не будет выводиться, если объект или массив уже пусты.
			Дополнительная привязка свойства <code>If</code> не требуется.
		</p>
	</div>

	<div class="method">
		<div class="command"><b>Close</b> - закрыть</div>
		<p>
			Закрывает текущую форму или диалог. Команда не имеет аргументов.
		</p>
	</div>
	<div class="method">
		<div class="command"><b>CloseOk</b> - закрыть</div>
		<p>
			Только для диалогов. Закрывает текущий диалог с ответом <code>true</code>. Команда не имеет аргументов.
		</p>
	</div>
	<div class="method">
		<div class="command"><b>Reload</b>, <b>Refresh</b> - обновить</div>
		<p>
			Обновляет текущую модель или ее часть. Если аргумент задан, то обновляется только часть модели.
			Обновление части модели используется для <a href="/models/array">"ленивых массивов"</a>.
		</p>
		<h4>Аргументы:</h4>
		<ul class="params">
			<li><code>Argument</code> - Привязка к массиву, который нужно обновить. Необязательно.</li>
		</ul>
	</div>
	<div class="method">
		<div class="command"><b>Requery</b> - обновить</div>
		<p>
			Перезагружает форму полностью  с сервера (включая перегенерацию разметки). Команда не имеет аргументов.
		</p>
	</div>
	<div class="method">
		<div class="command"><b>Print</b> - напечатать</div>
		<p>
			Печать текущей страницы. Команда не имеет аргументов. Обратите внимание, что фактически
			печатается текущее изображение страницы. Некоторые элементы (например <a class="code-link" href="/xaml/containers/taskpad">Taskpad</a>) на печать не выводятся.
			Более тонко управлять видимостью элементов при печати можно с помощью свойства <code>Print</code> объекта
			<a class="code-link" href="/xaml/abstract/uielement">UIElement</a>.
		</p>
	</div>
	<div class="method">
		<div class="command"><b>Dialog</b> - диалог</div>
		<p>
			Показывает диалог и выполняет указанное действие.
		</p>
		<h4>Аргументы:</h4>
		<ul class="params">
			<li>
				<code>Action</code> - действие. Возможные значения:
				<ul class="enum-vals">
					<li>
						<span class="prop-name">Edit</span> - редактировать элемент, указанный аргументом.
						После закрытия диалога элемент будет обновлен.
					</li>
					<li>
						<span class="prop-name">EditSelected</span> - редактировать выбранный элемент коллекции.
						Коллекция задается аргументом команды. После закрытия диалога выделенный элемент будет обновлен.
					</li>
					<li><span class="prop-name">Show</span> - показать элемент, заданный аргументом.</li>
					<li>
						<span class="prop-name">ShowSelected</span> - показать выбранный элемент коллекции.
						Коллекция задается аргументом команды.
					</li>
					<li><span class="prop-name">Browse</span> - выбрать элемент, заданный аргументом. Элемент заменяется выбранным в диалоге.</li>
					<li><span class="prop-name">Append</span> - создать новый элемент и добавить его в коллекцию. Коллекция задается аргументом.</li>
					<li><span class="prop-name">New</span> - создать новый элемент.</li>
					<li><span class="prop-name">Copy</span> - создать копию заданного элемента. Элемент задается аргументом.</li>
				</ul>
			</li>
			<li><code>Argument</code> - Привязка к элементу или коллекции.</li>
			<li><code>Data</code> - Дополнительные данные для вызова диалога. Будут параметрами процедуры загрузки модели диалога.</li>
			<li>
				<code>URL</code> - URL на диалог из раздела <a class="code-link" href="/app/dialogs">dialogs</a>
				файла описания модели <code>model.json</code>.
			</li>
			<li>
				<code>SaveRequired</code>, <code>ValidRequired</code>, <code>ReloadAfter</code> -
				дополнительные условия команды.
			</li>
		</ul>
	</div>
	<div class="method">
		<div class="command"><b>File</b> - работа с файлами (двоичными объектами)</div>
		<p>
			Выполняет отображение, загрузку или печать вложения (двоичного объекта). Это может
			быть картика, файл и т.д.
			<a href="/models/blob">Подробнее о работе с двоичными объектами.</a>
		</p>
		<h4>Аргументы:</h4>
		<ul class="params">
			<li>
				<code>FileAction</code> - действие с файлом. Возможные значения:
				<ul class="enum-vals">
					<li><span class="prop-name">Show</span> - Показать данные на странице.</li>
					<li><span class="prop-name">Download</span> - Загрузить данные как файл.</li>
					<li><span class="prop-name">Print</span> - Печать данных файла.</li>
				</ul>
			</li>
			<li><code>Argument</code> - Привязка к свойству, которое будет задавать идентификатор двоичного объекта.</li>
			<li>
				<code>URL</code> - URL на действие из раздела <a class="code-link" href="/app/files">files</a>
				файла описания модели <code>model.json</code>.
			</li>
		</ul>
	</div>
	<div class="method">
		<a href="#download"></a>
		<div class="command"><b>Download</b> - загрузить</div>
		<p>
			Позволяет пользователю загрузить статический файл. Статические файлы, 
			связанные с приложением должны быть размещены в специальной папке <a class="code-link" href="/app/folders/files">_files</a>.
		</p>
		<h4>Аргументы:</h4>
		<ul class="params">
			<li>
				<code>Url</code> - путь к статическому файлу. Путь указывается 
				относительно папки <b>_files</b>.
			</li>
		</ul>
	</div>
</div>