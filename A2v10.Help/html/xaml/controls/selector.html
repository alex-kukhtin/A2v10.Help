<div>
	<!--title:Xaml.Selector-->
	<!--keywords:Selector-->
	<div class="title">
		<h1>
			Элемент Selector
		</h1>
		<div class="breadcrumb">
			<a href="index">Все элементы управления</a>
		</div>
	</div>

	<p>Представляет собой универсальный селектор.</p>

	Наследует: <a class="code-link" href="/xaml/abstract/valuedcontrol">ValuedControl</a> :
	<a class="code-link" href="/xaml/abstract/control">Control</a> :
	<a class="code-link" href="/xaml/abstract/uielement">UIElement</a> :
	<a class="code-link" href="/xaml/abstract/uielementbase">UIElementBase</a>

	<h3>Свойства</h3>
	<table class="table-props">
		<thead>
			<tr>
				<th>Имя</th>
				<th>Тип</th>
				<th>Описание</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="prop-name">Delegate</td>
				<td>String</td>
				<td>Имя <a href="/template/delegates">делегата</a>, который будет вызываться при вводе текста в поле селектора.</td>
			</tr>
			<tr>
				<td class="prop-name">SetDelegate</td>
				<td>String</td>
				<td>
					Имя <a href="/template/delegates">делегата</a>, который будет вызываться при выборе элемента в выпадающей панели.
					Если указан этот делегат, то никаких присваиваний связанного элемента выполняться не будет.
				</td>
			</tr>
			<tr>
				<td class="prop-name">TextValue</td>
				<td>Object</td>
				<td>
					Только привязка (<a class="code-link" href="/xaml/bind/bind">Bind</a>). Текстовая привязка. Если она задана, то
					при выборе элемента в списке в нее будет передаваться текст, а не сам элемент.
				</td>
			</tr>
			<tr>
				<td class="prop-name">Align</td>
				<td><a class="code-link" href="/xaml/enums/textalign">TextAlign</a></td>
				<td>Выравнивание текста.</td>
			</tr>
			<tr>
				<td class="prop-name">Placeholder</td>
				<td>String</td>
				<td>
					Подсказка. Отображается в пустом поле ввода. Исчезает при получении полем фокуса ввода.
				</td>
			</tr>
			<tr class="top">
				<td class="prop-name">Style</td>
				<td class="fit"><code>SelectorStyle</code></td>
				<td>
					Стиль отображения селектора. Возможные значения:
					<ul class="enum-vals">
						<li><span class="prop-name">Default</span> - (по умолчанию) обычный селектор.</li>
						<li>
							<span class="prop-name">ComboBox</span> - селектор в виде комбинированного выпадающего списка.
							Фильтрация в этом случае не поддерживается.
						</li>
						<li><span class="prop-name">Hyperlink</span> - селектор в виде гиперссылки. Фильтрация в этом случае не поддерживается.</li>
					</ul>
				</td>
			</tr>
			<tr class="top">
				<td class="prop-name">Size</td>
				<td><code>ControlSize</code></td>
				<td>
					Размер элемента. Возможные значения:
					<ul class="enum-vals">
						<li><span class="prop-name">Default</span> - (по умолчанию) селектор обычного размера.</li>
						<li><span class="prop-name">Large</span> - увеличенный размер селектора.</li>
					</ul>
					(остальные значения перечисления <code>ControlSize</code> не поддерживаются).
				</td>
			</tr>
			<tr>
				<td class="prop-name">ItemsSource</td>
				<td>Array</td>
				<td>
					Всегда привязка - <a class="code-link" href="../bind/bind">Bind</a>. Источник данных для отображения в списке.
				</td>
			</tr>
			<tr>
				<td class="prop-name">DisplayProperty</td>
				<td>String</td>
				<td>
					Имя свойства основного элемента, которое будет отображаться в селекторе.
				</td>
			</tr>
			<tr class="top">
				<td class="prop-name">PanelPlacement</td>
				<td class="fit"><code>DropDownPlacement</code></td>
				<td>
					Направление "выпадения" панели выбора селектора. Возможные значения:
					<ul class="enum-vals">
						<li><span class="prop-name">BottomLeft</span> - (по умолчанию) вниз с привязкой левого края.</li>
						<li><span class="prop-name">BottomRight</span> - вниз с привязкой правого края.</li>
						<li><span class="prop-name">TopLeft</span> - верх с привязкой левого края.</li>
						<li><span class="prop-name">TopRight</span> - вверх с привязкой правого края.</li>
					</ul>
				</td>
			</tr>
			<tr>
				<td class="prop-name">ListSize</td>
				<td><a class="code" href="/xaml/simple/size">Size</a></td>
				<td>
					Размеры выпадающей панели селектора.
				</td>
			</tr>
			<tr>
				<td class="prop-name">ItemsPanel</td>
				<td><a class="code" href="/xaml/abstract/UIElementBase">UIElementBase</a></td>
				<td>
					Описание выпадающей панели. В текущей версии в качестве выпадающей панели поддерживается
					только элемент <a class="code" href="/xaml/controls/datagrid">DataGrid</a>.
					Если элемент не указан, используется простой список элементов.
				</td>
			</tr>
			<tr>
				<td class="prop-name">NewPane</td>
				<td><a class="code" href="/xaml/abstract/UIElementBase">UIElementBase</a></td>
				<td>
					Описание панели создания нового элемента.
				</td>
			</tr>
			<tr>
				<td class="prop-name">CreateNewCommand</td>
				<td><a class="code-link" href="/xaml/bind/bindcmd">BindCmd</a></td>
				<td>Команда, которая будет выполнена при создании нового элемента.</td>
			</tr>
			<tr>
				<td class="prop-name">ShowCaret</td>
				<td>Boolean?</td>
				<td>
					Показывать значок открывания содержимого. Если стиль селектора <code>ComboBox</code>, то
					значение автоматически устанавливается в <code>True</code>.
				</td>
			</tr>
			<tr>
				<td class="prop-name">ShowClear</td>
				<td>Boolean</td>
				<td>
					Показывать кнопку очистки содержимого. Нажатие на эту кнопку вызывает метод <code>$empty</code>
					для связанного элемента.
				</td>
			</tr>
			<tr>
				<td colspan="3">
					<a href="/xaml/abstract/valuedcontrol">Свойства базового элемента</a>
				</td>
			</tr>
		</tbody>
	</table>

	<h3>Описание</h3>
	<p>
		Селектор может работать в двух режимах. Выбор из списка и поиск в списке/на сервере.
	</p>
	<p>
		В первом просто эмулируется комбинированный список (<a class="code" href="combobox">ComboBox</a>)
		с дополнительными возможностями стилизации окна выбора. В этом случае задается коллекция для выбора (свойство <code>ItemsSource</code>) и
		имя свойства связанного элемента (свойство <code>DisplayProperty</code>), которое должно отображаться в селекторе.
	</p>
	<p>
		Во втором случае нужно задать делегат (свойство <code>Delegate</code>), который будет периодически вызываться при вводе текста в поле селектора.
	</p>
	<p>
		Имеется возможность создания нового элемента в случае, если в списке ничего не найдено.
		Для этого нужно задать панель создания элемента <code>NewPane</code> и команду <code>CreateNewCommand</code>.
	</p>

	<h3>Формат делегата поиска (Delegate)</h3>
	<div class="method">
		<div class="syntax"><pre class="code-highlight js">fetch(this:IRoot, elem:IElement, text:string, all?: boolean): [] | Promise</pre></div>
		<h4>Аргументы:</h4>
		<ul class="params">
			<li>
				<code>this</code> - корень модели данных.
			</li>
			<li>
				<code>elem</code> - элемент, связанный с селектором.
			</li>
			<li>
				<code>text</code> - текст, набранный в поле ввода.
			</li>
			<li>
				<code>all</code> - признак того, что надо выводить все значения из списка. Будет равен <code>true</code>, если
				установлено свойство <code>ShowCaret</code> и пользователь открывает окно выбора кнопкой, а не вводом текста в поле.
			</li>
		</ul>
		<h4>Возвращаемое значение:</h4>
		<p>Делегат должен вернуть массив элементов или <code>Promise</code>, если элементы выбираются с сервера.</p>
		<p>То что вернул делегат будет показано в панели выбора.</p>
	</div>

	<h3>Формат делегата установки (SetDelegate)</h3>
	<div class="method">
		<div class="syntax"><pre class="code-highlight js">fetch(this:IRoot, elem:IElement): void</pre></div>
		<h4>Аргументы:</h4>
		<ul class="params">
			<li>
				<code>this</code> - корень модели данных.
			</li>
			<li>
				<code>elem</code> - устанавливаемый (выбранный в списке) элемент.
			</li>
		</ul>
	</div>

</div>