<div>
	<!--title:Xaml.Image-->
	<!--keywords:Image-->
	<div class="title">
		<h1>
			Элемент Image
		</h1>
		<div class="breadcrumb">
			<a href="index">Все элементы управления</a>
		</div>
	</div>

	<p>Представляет собой изображение с возможностью привязки к данным.</p>
	<p><a href="/models/blob">Подробнее о работе с двоичными объектами...</a></p>

	<p>
		Наследует: <a class="code-link" href="/xaml/abstract/uielementbase">UIElementBase</a>
	</p>

	<h3>Свойства</h3>

	<table class="table-props">
		<thead>
			<tr>
				<th>Имя</th>
				<th>Тип</th>
				<th>Описание</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="prop-name">Base</td>
				<td>String</td>
				<td>
					URL модели, из которой будет получено изображение.
				</td>
			</tr>
			<tr>
				<td class="prop-name">Source</td>
				<td><a class="code-link" href="/xaml/bind/Bind">Bind</a></td>
				<td>Всегда привязка. Связывается с полем, которой определяет идентификатор картинки.</td>
			</tr>
			<tr>
				<td class="prop-name">Width</td>
				<td><a class="code-link" href="/xaml/simple/length">Length</a></td>
				<td>
					Ширина изображения.
				</td>
			</tr>
			<tr>
				<td class="prop-name">Height</td>
				<td><a class="code-link" href="/xaml/simple/length">Length</a></td>
				<td>
					Высота изображения.
				</td>
			</tr>
			<tr>
				<td class="prop-name">ReadOnly</td>
				<td>Boolean</td>
				<td>
					Запретить загрузку изображения.
				</td>
			</tr>
			<tr>
				<td class="prop-name">Limit</td>
				<td>Int32</td>
				<td>
					Максимальный размер загружаемого изображения (в KB).
				</td>
			</tr>
			<tr>
				<td class="prop-name">Placeholder</td>
				<td>String</td>
				<td>
					Подсказка. Отображается, если изображение не выбрано.
				</td>
			</tr>
			<tr>
				<td class="prop-name">Icon</td>
				<td><a class="code-link" href="/xaml/enums/icon">Icon</a></td>
				<td>
					Иконка. Отображается вместе с заполнителем <code>Placeholder</code>, если изображение не выбрано.
				</td>
			</tr>
			<tr>
				<td colspan="3">
					<a href="/xaml/abstract/uielementbase">Свойства базового элемента</a>
				</td>
			</tr>
		</tbody>
	</table>

	<h3>Особенности</h3>
	<p>
		Чаще всего задается только одно из свойств <code>Width</code> или <code>Height</code>. В этом случает
		картинка будет сохранять пропорции.
	</p>


	<h3>Пример</h3>

	<p>
		Элемент управления <code>Image</code> используется для одновременного показа и загрузки картинки
		с использованием упрощенного подхода.
	</p>

	<p>
		Свойство <code>Source</code> должно ссылаться на свойство модели,
		которое представляет собой объект с двумя полями (<code>Id!!Id</code> и <code>Token!!Token</code>).
		Имя этого свойства будет определять суффикс для хранимых процедур,
		которые будут вызываться для получения или записи реальных байтов изображения.
	</p>

	<p>
		Свойство <code>Base</code> должно ссылаться на полную модель
		(ту, которая указана в корне файла <code>model.json</code>).
	</p>


	<p>
		Пример разметки XAML
<pre class="code-highlight xml">
<script type="text/template">
<Image Base="/catalog/product" Source="{Bind Product.Image}" Height="200px" />



</script>
</pre>
	</p>

	<p>
		Фрагмент файла <code>/catalog/product/model.json</code>
<pre class="code-highlight js">
<script type="text/template">
{
  "schema": "a2",
  "model": "Product"
}
</script>
</pre>
	</p>

	<p>
		Фрагмент модели данных
<pre class="code-highlight js">
<script type="text/template">
{
	"Product": {
		"Id": 42,
		"Image": {
			"Id": 112233,
			"Token": "hXFVVdnZRnZ5HKwNStO2qSSip_ziQ-IEnjVVQzyKzC8"
		}
	}
}
</script>
</pre>
	</p>


	<h4>Получение изображения</h4>
	<p>
		Для получения изображения система вызовет хранимую процедуру
		<code>a2.[Product.Image.Load]</code>, передав ей в качестве параметра @Id
		идентификатор объекта <code>Image</code>.
		Имя <b>Image</b> в наименовании процедуры соответствует имени свойства.
		Токен доступа будет проверен на сервере (в процедуру он не передается).
		Если он не соответствует правилам, то процедура вообще не вызовется.
	</p>

	<h4>Загрузка изображения</h4>
	<p>
		При загрузке изображения на сервер, система вызовет хранимую процедуру
		<code>a2.[Product.Image.Update]</code>. Процедура вернет идентификатор изображения и новый токен досупа,
		которые будут обновлены в модели.
	</p>
</div>