<div>
	<!--title:actions (model.json)-->
	<!--keywords:actions-->
	<div class="title">
		<h1>
			Действия (actions)
		</h1>
		<div class="breadcrumb">
			<a href="model">model.json</a>
		</div>
	</div>

	<p>
		Объект <b>actions</b> описывает действия, возможные в текущей конечной точке.
		Имена свойств объекта представляют собой имена действий. Каждое свойство представляет собой объект следующей структуры:
	</p>

<p>
<pre class="code-highlight js" data-lang="js">
<script type="text/template">{
  "source": "",
  "schema": "",
  "model": "",
  "merge": {
    "source": "",
    "schema": "",
    "model": "",
    "parameters": {}
  }
  "index": true | false,
  "copy": true | false,
  "template": "",
  "view": "",
  "checkTypes": "",
  "indirect": true | false,
  "parameters": {}
  "export": {
     "fileName": "",
     "template": "",
     "format":"xlsx" | "dbf" | "csv" | "unknown",
     "encoding": "utf8" | "1251" | "866"
	}
}
</script>
</pre>
	</p>

	<h3>Свойства объекта действия</h3>
	<table class="table-props">
		<thead>
			<tr>
				<th>Имя</th>
				<th>Тип</th>
				<th>Описание</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="prop-name">source</td>
				<td>string</td>
				<td>Необязательно. Источник данных. Если не указан, берется из родительского элемента.</td>
			</tr>
			<tr>
				<td class="prop-name">schema</td>
				<td>string</td>
				<td>Необязательно. Имя sql-схемы. Если не указана, берется из родительского элемента.</td>
			</tr>
			<tr>
				<td class="prop-name">model</td>
				<td>string</td>
				<td>Имя модели. Если не указано, берется из родительского элемента.</td>
			</tr>
			<tr>
				<td class="prop-name">merge</td>
				<td>object</td>
				<td>
					Необязательно. Дополнительная модель, которая будет объединена с основной. Можно задать другую
					схему и другой источник данных. Если схема или источник не указаны, они берутся
					из родительского элемента.
					<br />
					Объект <code>parameters</code> позволяет задавать дополнительные параметры для второй модели.
					Имеется возможность ссылок на значения из основной модели. Для этого используйте укажите в значении 
					путь к свойству основной модели в двойных фигурных скобках (<b>{{....}}</b>).
				</td>
			</tr>
			<tr>
				<td class="prop-name">index</td>
				<td>boolean</td>
				<td>
					Является ли модель для действия индексной. Для индексной модели выполняется хранимая процедура с суффиксом <code>'.Index'</code>,
					для обычной - с суффиксом <code>'.Load'.</code>
				</td>
			</tr>
			<tr>
				<td class="prop-name">copy</td>
				<td>boolean</td>
				<td>
					Является ли действие действием копирования. В этом случае для загрузки модели выполняется хранимая процедура с
					суффиксом <code>'.Copy'</code>. Копирование в индексных действиях не поддерживается.
				</td>
			</tr>
			<tr>
				<td class="prop-name">template</td>
				<td>string</td>
				<td>Путь к файлу шаблона для действия. <a href="/template/index">Подробнее о шаблонах</a>.</td>
			</tr>
			<tr>
				<td class="prop-name">view</td>
				<td>string</td>
				<td>Путь к файлу представления для действия.</td>
			</tr>
			<tr>
				<td class="prop-name">checkTypes</td>
				<td>string</td>
				<td>Имя файла *.d.ts для динамической <a href="/tests/checktypes">проверки типов</a>.</td>
			</tr>
			<tr>
				<td class="prop-name">indirect</td>
				<td>boolean</td>
				<td>Косвенность. Действие выполняется в два этапа.</td>
			</tr>
			<tr>
				<td class="prop-name">parameters</td>
				<td>object</td>
				<td>
					Объект, статические параметры, которые передаются в хранимую процедуру загрузки модели. Имя свойства является именем параметра,
					значение - значением параметра.
				</td>
			</tr>
			<tr>
				<td class="prop-name">export</td>
				<td>object</td>
				<td>
					Объект, описывающий действие экспорта (загрузки) модели данных. Объект имеет следующие параметры:
					<table class="sub-table">
						<tr>
							<td class="prop-name">fileName</td>
							<td>Строка. Имя сохраняемого файла, которое будет предложено пользователю.</td>
						</tr>
						<tr>
							<td class="prop-name">format</td>
							<td>
								Перечисление <code>xlsx</code> | <code>dbf</code> | <code>csv</code>.
								Формат файла для экспорта.
							</td>
						</tr>
						<tr>
							<td class="prop-name">template</td>
							<td>
								Строка. Имя файла шаблона, на основании которого будет выполняться экспорт.
								Обязательно для экспорта в формат <code>xlsx</code>.
							</td>
						</tr>
						<tr>
							<td class="prop-name">encoding</td>
							<td>
								Кодовая страница файла экспорта.
								Обязательно для экспорта в форматы <code>dbf</code> и <code>csv</code>.
								Перечисление: <code>utf8</code> | <code>1251</code> | <code>866</code>.
							</td>
						</tr>
					</table>

					При загрузке модели для экспорта будет вызываться хранимая процедура
					с суффиксом <code>.Export</code>.
				</td>
			</tr>
		</tbody>
	</table>

</div>